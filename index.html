<!DOCTYPE html>
<html lang="it">
<head>
  <link rel="apple-touch-icon" sizes="180x180" href="/aquilaimperiale2.0.png">
  <link rel="icon" href="/assets/favicon.ico" type="image/x-icon">
  <link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon">

  <meta charset="UTF-8">
  <title>Aquila Rubra</title>
  <meta name="description" content="Aquila Rubra è un universo narrativo ambientato nella Roma imperiale. Romanzi storici che raccontano il potere, la guerra e gli uomini dell’Impero.">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Julius+Sans+One&display=swap" rel="stylesheet">

  <!-- Se questo file contiene lo sfondo (body::before), lascialo -->
  <link rel="stylesheet" href="/assets/style.css">

  <!-- (Opzionale) solo CSS Brevo, nessun JS Brevo -->
  <link rel="stylesheet" href="https://sibforms.com/forms/end-form/build/sib-styles.css">

  <style>
    :root{
      --text: #eaeaea;
      --muted: rgba(234,234,234,0.85);
    }

    html, body{
      margin: 0;
      padding: 0;
      color: var(--text);
    }

    /* leggibilità senza pannello */
    h1, h2, h3, p, a, .enter-hint{
      text-shadow: 0 2px 14px rgba(0,0,0,0.85);
    }

    /* ===== HERO ===== */
    header.hero{
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      margin: 70px 0 22px;
    }

    .hero-logo{
      display: block;
      width: 92vw;
      max-width: 900px; /* normale dopo ingresso */
      height: auto;
      margin: 0 auto 14px;

      transition: max-width 700ms ease, transform 700ms ease, opacity 700ms ease, filter 700ms ease;
      will-change: opacity, transform, filter, max-width;
    }

    .enter-hint{
      margin-top: 10px;
      font-size: 14px;
      letter-spacing: 3px;
      color: var(--muted);
      border: 1px solid rgba(255,255,255,0.35);
      background: rgba(0,0,0,0.35);
      padding: 10px 18px;
      border-radius: 999px;
      cursor: pointer;
      user-select: none;

      transition: opacity 600ms ease, transform 600ms ease;
      will-change: opacity, transform;
    }

    /* ===== CONTENUTO ===== */
    main{
      max-width: 1000px;
      margin: 0 auto;
      padding: 0 20px 80px;
      background: transparent;
    }

    section{ margin: 44px 0; }

    h2{
      text-align: center;
      font-size: 34px;
      font-weight: 400;
      margin: 0 0 18px;
    }

    h3{
      text-align: center;
      font-size: 24px;
      font-weight: 400;
      margin: 0 0 10px;
    }

    section p{
      text-align: center;
      line-height: 1.6;
      max-width: 820px;
      margin: 0 auto 14px;
      color: var(--muted);
      letter-spacing: 0.3px;
    }

    .books{
      display: grid;
      gap: 30px;
      margin-top: 18px;
    }

    .book{
      text-align: center;
      padding: 18px 10px;
    }

    .btn{
      display: inline-block;
      margin-top: 14px;
      padding: 12px 18px;
      border-radius: 10px;
      text-decoration: none;
      color: var(--text);
      border: 1px solid rgba(255,255,255,0.35);
      background: rgba(0,0,0,0.25);
      backdrop-filter: blur(2px);
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
    }
    .btn:hover{
      transform: translateY(-1px);
      background: rgba(0,0,0,0.35);
      border-color: rgba(255,255,255,0.55);
    }

    @media (min-width: 900px){
      .books{ grid-template-columns: 1fr 1fr; }
    }

    /* ====== SPLASH MODE ====== */
    body.splash{ overflow: hidden; }

    body.splash header.hero{
      height: 100vh;
      margin: 0;
      cursor: pointer;
    }

    body.splash .hero-logo{
      max-width: 1200px;
      width: 92vw;
      transform: translateY(-10px);
    }

    body.splash #content{ display: none; }
    body:not(.splash) #content{ display: block; }
    body:not(.splash) .enter-hint{ display: none !important; }

    /* ====== TRANSIZIONE SOFT ENTRA ====== */
    body.is-entering .hero-logo{
      opacity: 0;
      transform: translateY(-6px);
      filter: blur(1px);
    }

    body.is-entering .enter-hint{
      opacity: 0;
      transform: translateY(6px);
    }

    body.is-entering #content{
      opacity: 0;
      transform: translateY(10px);
    }

    body.ready #content{
      opacity: 1;
      transform: translateY(0);
      transition: opacity 520ms ease, transform 520ms ease;
    }

    /* Mobile */
    @media (max-width: 768px){
      .hero-logo{ max-width: 260px; }
      body.splash .hero-logo{
        max-width: 320px;
        width: 82vw;
      }
    }

    /* ===== NEWSLETTER (Brevo, integrata nel tema) ===== */
    .ar-newsletter-wrap{
      margin-top: 34px;
      display: flex;
      justify-content: center;
    }

    .ar-newsletter{
      width: 100%;
      max-width: 540px;
      padding: 22px 18px;
      background: rgba(0,0,0,0.55);
      border: 1px solid rgba(255,255,255,0.25);
      border-radius: 12px;
      backdrop-filter: blur(2px);
      -webkit-backdrop-filter: blur(2px);
      box-shadow:
        inset 0 0 0 1px rgba(255,255,255,0.05),
        0 10px 24px rgba(0,0,0,0.65);
      text-align: left;
    }

    .ar-newsletter h3{
      font-family: "Julius Sans One", system-ui, sans-serif;
      font-size: 20px;
      letter-spacing: 1px;
      text-transform: uppercase;
      margin: 0 0 10px;
      color: rgba(255,255,255,0.92);
      text-align: left;
      text-shadow: none;
    }

    .ar-newsletter p{
      margin: 0 0 14px;
      line-height: 1.5;
      color: rgba(255,255,255,0.78);
      font-size: 14px;
      text-align: left;
      max-width: none;
      text-shadow: none;
    }

    .ar-newsletter label{
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: rgba(255,255,255,0.85);
      font-size: 14px;
      text-shadow: none;
    }

    .ar-newsletter .input{
      width: 100%;
      box-sizing: border-box;
      padding: 12px 12px;
      border-radius: 10px;
      border: 1px solid rgba(255,255,255,0.25);
      background: rgba(0,0,0,0.35);
      color: rgba(255,255,255,0.92);
      outline: none;
      font-size: 14px;
      text-shadow: none;
    }

    .ar-newsletter .input::placeholder{
      color: rgba(255,255,255,0.45);
    }

    .ar-newsletter .entry__specification{
      display: block;
      margin-top: 8px;
      color: rgba(255,255,255,0.55);
      font-size: 12px;
      text-shadow: none;
    }

    .ar-newsletter .entry__error{
      display:block;
      margin-top: 10px;
      color: #ffb4b4;
      font-size: 13px;
      min-height: 18px;
      text-shadow: none;
    }

    .ar-newsletter .sib-form-block__button{
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      margin-top: 14px;
      padding: 12px 18px;
      border-radius: 10px;
      border: 1px solid rgba(255,255,255,0.35);
      background: rgba(0,0,0,0.25);
      color: var(--text);
      font-family: "Julius Sans One", system-ui, sans-serif;
      font-size: 0.95em;
      letter-spacing: 1px;
      text-transform: uppercase;
      cursor: pointer;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
    }

    .ar-newsletter .sib-form-block__button:hover{
      transform: translateY(-1px);
      background: rgba(0,0,0,0.35);
      border-color: rgba(255,255,255,0.55);
    }

    .ar-newsletter .sib-form-block__button[disabled]{
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }

    /* Messaggi globali */
    .ar-msg{
      max-width: 540px;
      margin: 0 auto 14px;
      border-radius: 10px;
      padding: 12px 14px;
      background: rgba(0,0,0,0.55);
      border: 1px solid rgba(255,255,255,0.25);
      color: rgba(255,255,255,0.9);
      text-align: center;
      display: none;
      text-shadow: none;
    }
    .ar-msg.ok{ border-color: rgba(19,206,102,0.5); }
    .ar-msg.ko{ border-color: rgba(255,73,73,0.5); }

    /* Honeypot: nascosto ma presente */
    .hp-field{
      position:absolute !important;
      left:-9999px !important;
      width:1px !important;
      height:1px !important;
      opacity:0 !important;
      pointer-events:none !important;
    }
  </style>
</head>

<body class="splash">

  <header class="hero" id="hero">
    <img src="AQUILARUBRA2.0.png" alt="Aquila Rubra" class="hero-logo" id="logo">
    <div class="enter-hint" id="enterBtn">ENTRA</div>
  </header>

  <main id="content">
    <section>
      <p><strong>Un universo narrativo ambientato nella Roma imperiale</strong></p>
      <p>Legioni sul limes renano, pretoriani nella Subura, uomini chiamati a prendere delle decisioni che cambieranno il destino di Roma.</p>

      <h2>L’autore</h2>
      <p>
        Valerio Lupo nasce a Roma nel 1988. Ha sempre avuto una grande passione per la storia, in particolare per quella riguardante l'età imperiale di Roma.
        Da ragazzo ha partecipato per anni a giochi di ruolo ambientati nella Roma imperiale: interpretare il suo personaggio è stata la prima palestra per costruire il suo stile narrativo.
        Dalla fine del liceo ha approfondito lo studio delle fonti classiche – Tito Livio, Svetonio, Tacito, Plutarco, Giulio Cesare – insieme agli autori contemporanei,
        visitando i luoghi dell'impero e studiando l'arte militare antica.
        Tra le sue influenze narrative vi sono Massimiliano Colombo, Lindsey Davis, Simon Scarrow e Andrea Frediani, ma il suo principale modello rimane Guido Cervo,
        che ha contribuito all'evoluzione del suo stile e lo ha ispirato a diventare scrittore.
        Dopo anni di lavoro, nel 2025 ha pubblicato alcuni dei suoi romanzi.<br>
        E questo è solo l'inizio.<br>
        Aquila Rubra è un progetto ambizioso di narrativa storica ambientato nella Roma imperiale. Le storie esplorano il potere, la violenza istituzionale e il destino degli uomini all'interno dell'Impero,
        attraverso epoche, luoghi e protagonisti diversi.
      </p>
    </section>

    <section>
      <h2>L’Universo di Aquila Rubra</h2>
      <p>
        Roma non è solo uno sfondo, ma un sistema. Ogni romanzo racconta una parte diversa dello stesso mondo:
        il conflitto con le popolazioni barbare, l'Urbe, il Palatino, i vicoli, storie di vite comuni.
        Le vicende sono autonome, ma condividono un’unica visione, e, a volte, personaggi conosciuti.
      </p>
    </section>

    <section>
      <div class="books">
        <div class="book">
          <h3>Aquila Rubra <br>Il Giuramento del Legato</h3>
          <p>Il limes germanico. La XII Fulminata.<br>Un giuramento, la guerra e il tradimento.</p>
          <a class="btn" href="/aquilarubrasaga/">Entra nella saga</a>
        </div>

        <div class="book">
          <h3>Le Volte del <br>Palatino</h3>
          <p>Roma, 793 ab Urbe Condita.<br>Quomodo deus necatur?</p>
          <a class="btn" href="/levoltedelpalatino/">Scopri il romanzo</a>
        </div>
      </div>
    </section>

    <!-- ===== NEWSLETTER (Brevo, gestita da noi) ===== -->
    <div class="ar-newsletter-wrap">
      <div style="width:100%; max-width:540px;">
        <div id="arSuccess" class="ar-msg ok">Iscrizione registrata. Controlla la tua email per confermare.</div>
        <div id="arError" class="ar-msg ko">Qualcosa è andato storto. Riprova tra poco.</div>

        <div class="ar-newsletter">
          <h3>Newsletter</h3>
          <p>Ricevi aggiornamenti esclusivi su <strong>Aquila Rubra</strong>, contenuti inediti e anteprime speciali.</p>

          <form id="brevoForm"
            method="POST"
            action="https://b18d7e03.sibforms.com/serve/MUIFAE-K6KLo54yRKWxvB5NGGvDwgreJ1RTJrdVjfRTI-uwSg15IAHwCjLhypEt90LlqGdxZkK5BleMD_rUNWn0iDtisWVeNFxTqhBN7Wy_NNpMhCqC2u25QAXcjjuyCncU3hHrUJx3rja9zouRP5aBTZY8wUmdIHx5y6kS-3q4nFtYLWFcbe72iUhTkWDo9XDltWkR-JtUP9uUDfw==">

            <label for="EMAIL">Inserisci la tua email</label>
            <input class="input"
              type="email"
              id="EMAIL"
              name="EMAIL"
              autocomplete="email"
              placeholder="nome@esempio.com"
              required>

            <span class="entry__specification">Niente spam. Solo aggiornamenti sul progetto.</span>
            <span id="fieldError" class="entry__error"></span>

            <button id="brevoBtn" class="sib-form-block__button" type="submit">
              <span id="btnText">Iscriviti</span>
              <span id="btnSpinner" style="display:none;">...</span>
            </button>

            <!-- Honeypot anti-bot (DEVE esistere, ma non va eliminato dal JS) -->
            <input class="hp-field" type="text" name="email_address_check" value="" tabindex="-1" autocomplete="off">

            <input type="hidden" name="locale" value="it">
          </form>

          <p style="margin-top:12px; font-size:12px; color:rgba(255,255,255,0.55); text-shadow:none;">
            Iscrivendoti accetti la <a href="/privacy.html" style="color:#b31b1b; text-decoration:none;">Privacy Policy</a>.
          </p>
        </div>
      </div>
    </div>
    <!-- ===== /NEWSLETTER ===== -->

  </main>

  <footer style="background: rgba(0, 0, 0, 0.8); color: #ffffff; padding: 20px; text-align: center; margin-top: 50px;">
    <p>© 2025 Decimo Valerio Lupo - Aquila Rubra - Tutti i diritti riservati.</p>
    <p>Effetti sonori da <a href="https://freesound.org/" target="_blank" style="color: #b31b1b;">Freesound</a> e <a href="https://pixabay.com/sound-effects/" target="_blank" style="color: #b31b1b;">Pixabay</a>.</p>
    <p>
      <a href="privacy.html" style="color: #b31b1b;">Privacy Policy</a> |
      <a href="cookies.html" style="color: #b31b1b;">Cookie Policy</a>
    </p>
    <p>Seguici su:
      <a href="https://www.instagram.com/aquilarubra_official?igsh=cjZuNGh1Nm80enBx&utm_source=qr" target="_blank" style="color: #b31b1b;">Instagram</a> |
      <a href="https://www.facebook.com/JuliusAquila16" target="_blank" style="color: #b31b1b;">Facebook</a>
    </p>
  </footer>

  <!-- Splash enter -->
  <script>
    function enterSite(){
      if (document.body.classList.contains("is-entering")) return;

      document.body.classList.add("is-entering");

      setTimeout(() => {
        document.body.classList.remove("splash");
        document.body.classList.add("ready");
        window.scrollTo(0, 0);

        setTimeout(() => {
          document.body.classList.remove("is-entering");
        }, 650);

      }, 420);
    }

    document.getElementById("hero").addEventListener("click", enterSite);
    document.getElementById("enterBtn").addEventListener("click", function(e){
      e.stopPropagation();
      enterSite();
    });
  </script>

  <!-- Newsletter: submit affidabile (NO main.js Brevo) -->
  <script>
    (function () {
      const form = document.getElementById("brevoForm");
      const email = document.getElementById("EMAIL");

      const ok = document.getElementById("arSuccess");
      const ko = document.getElementById("arError");
      const fieldError = document.getElementById("fieldError");

      const btn = document.getElementById("brevoBtn");
      const btnText = document.getElementById("btnText");
      const btnSpinner = document.getElementById("btnSpinner");

      const show = (el) => { el.style.display = "block"; };
      const hide = (el) => { el.style.display = "none"; };

      const setLoading = (on) => {
        btn.disabled = on;
        btnSpinner.style.display = on ? "inline" : "none";
        btnText.textContent = on ? "Invio..." : "Iscriviti";
      };

      form.addEventListener("submit", async (e) => {
        e.preventDefault();

        hide(ok); hide(ko);
        fieldError.textContent = "";

        if (!email.value || !email.checkValidity()) {
          fieldError.textContent = "Inserisci un indirizzo email valido.";
          return;
        }

        setLoading(true);

        try {
          const res = await fetch(form.action, {
            method: "POST",
            headers: { "Content-Type": "application/x-www-form-urlencoded;charset=UTF-8" },
            body: new URLSearchParams(new FormData(form)),
          });

          const text = await res.text();
          console.log("Brevo status:", res.status);
          console.log("Brevo response (first 600 chars):", text.slice(0, 600));

          // In molti casi Brevo risponde 200 anche se poi mostra un contenuto "error".
          // Non potendo fidarci al 100% dello status, facciamo una check pragmatica:
          const looksLikeError =
            /error-message|Qualcosa è andato storto|invalid|erreur|errore/i.test(text);

          if (res.ok && !looksLikeError) {
            show(ok);
            form.reset();
          } else {
            show(ko);
          }
        } catch (err) {
          console.error(err);
          show(ko);
        } finally {
          setLoading(false);
        }
      });
    })();
  </script>

</body>
</html>
